{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@the-turk/flarum-diff/webpack/bootstrap","webpack://@the-turk/flarum-diff/webpack/runtime/compat get default export","webpack://@the-turk/flarum-diff/webpack/runtime/define property getters","webpack://@the-turk/flarum-diff/webpack/runtime/hasOwnProperty shorthand","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/extend')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/app')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'forum/components/CommentPost')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/Page')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/models/Post')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/Model')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/utils/mixin')\"","webpack://@the-turk/flarum-diff/./src/forum/models/Diff.js","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/Dropdown')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/Component')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/Button')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/Avatar')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/Icon')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/helpers/username')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/helpers/humanTime')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/utils/extractText')\"","webpack://@the-turk/flarum-diff/./src/forum/components/DiffButton.js","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/Modal')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/Tooltip')\"","webpack://@the-turk/flarum-diff/./src/forum/utils/redrawPost.js","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/Alert')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/LoadingIndicator')\"","webpack://@the-turk/flarum-diff/./src/forum/components/DiffModal.js","webpack://@the-turk/flarum-diff/./src/forum/components/DiffList.js","webpack://@the-turk/flarum-diff/./src/forum/states/DiffListState.js","webpack://@the-turk/flarum-diff/./src/forum/components/DiffDropdown.js","webpack://@the-turk/flarum-diff/./src/forum/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/extend');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/app');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'forum/components/CommentPost');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Page');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/models/Post');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Model');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/mixin');","import Model from 'flarum/common/Model';\nimport mixin from 'flarum/common/utils/mixin';\nexport default class Diff extends mixin(Model, {\n  revision: Model.attribute('revision'),\n  createdAt: Model.attribute('createdAt', Model.transformDate),\n  deletedAt: Model.attribute('deletedAt', Model.transformDate),\n  rollbackedAt: Model.attribute('rollbackedAt', Model.transformDate),\n  actor: Model.hasOne('actor'),\n  deletedUser: Model.hasOne('deletedUser'),\n  rollbackedUser: Model.hasOne('rollbackedUser'),\n  inlineHtml: Model.attribute('inlineHtml'),\n  sideBySideHtml: Model.attribute('sideBySideHtml'),\n  combinedHtml: Model.attribute('combinedHtml'),\n  previewHtml: Model.attribute('previewHtml'),\n  comparisonBetween: Model.attribute('comparisonBetween')\n}) {}\nflarum.reg.add('huseyinfiliz-diff', 'forum/models/Diff', Diff);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Dropdown');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/Component');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Button');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Avatar');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Icon');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/username');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/helpers/humanTime');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/utils/extractText');","import Button from 'flarum/common/components/Button';\nimport Avatar from 'flarum/common/components/Avatar';\nimport Icon from 'flarum/common/components/Icon';\nimport username from 'flarum/common/helpers/username';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport extractText from 'flarum/common/utils/extractText';\n\n/**\n * The `DiffButton` component composes a button\n * for all revisions created in DiffList.\n */\nexport default class DiffButton extends Button {\n  // see the following link to find out why i'm overriding this at all\n  // https://discuss.flarum.org/d/22728-passing-an-object-to-a-custom-button-component\n  view() {\n    const attrs = Object.assign({}, this.attrs);\n    delete attrs.item;\n    delete attrs.subButton;\n    delete attrs.postDate;\n    attrs.type = 'button';\n    return m(\"button\", attrs, this.getButtonContent());\n  }\n  getButtonContent() {\n    const revision = this.attrs.item;\n    let actor = revision.actor();\n    let buttonText = revision.revision() == 0 ? /* {username} created {ago} */\n    extractText(app.translator.trans('the-turk-diff.forum.createdInfo', {\n      username: username(revision.actor()),\n      ago: humanTime(this.attrs.postDate)\n    })) : /* {username} edited {ago} */\n    extractText(app.translator.trans('the-turk-diff.forum.editedInfo', {\n      username: username(revision.actor()),\n      ago: humanTime(revision.createdAt())\n    }));\n    if (revision.deletedAt()) {\n      if (this.attrs.subButton === false) {\n        /* {username} did something {ago} (deleted) */\n        buttonText = buttonText + ' ' + app.translator.trans('the-turk-diff.forum.deletedText');\n      } else {\n        /* sub button text that appears when you click on caret icon */\n        actor = revision.deletedUser();\n        /* {actor} deleted this content {ago} */\n        buttonText = extractText(app.translator.trans('the-turk-diff.forum.deletedInfo', {\n          username: username(revision.deletedUser()),\n          ago: humanTime(revision.deletedAt())\n        }));\n      }\n    }\n    return [\n    // we also should consider deleted users here\n    actor.username() ? m(Avatar, {\n      user: actor\n    }) : '',\n    // does this button have an icon?\n    revision.deletedAt() && this.attrs.subButton === false ? m(Icon, {\n      name: \"fas fa-caret-down\",\n      className: \"Button-caret\"\n    }) : '',\n    // button label\n    m(\"span\", {\n      className: \"Button-label\",\n      title: buttonText\n    }, revision.deletedAt() && this.attrs.subButton === true ? /* emphasize deleted revision's information */\n    m(\"em\", null, buttonText) : buttonText)];\n  }\n}\nflarum.reg.add('huseyinfiliz-diff', 'forum/components/DiffButton', DiffButton);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Modal');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Tooltip');","/**\n * Redraw the post.\n * Workaround for - SubtreeRetainer doesn't allow redrawing post\n * https://discuss.flarum.org/d/22755-mithril-related-issues-on-poststream-items\n *\n * @param {Object} post\n */\nexport default function redrawPost(post) {\n  return post.save({}).then(() => m.redraw());\n}\nflarum.reg.add('huseyinfiliz-diff', 'forum/utils/redrawPost', redrawPost);","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Alert');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/LoadingIndicator');","import app from 'flarum/common/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport username from 'flarum/common/helpers/username';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport Avatar from 'flarum/common/components/Avatar';\nimport extractText from 'flarum/common/utils/extractText';\nimport redrawPost from '../utils/redrawPost';\nimport Alert from 'flarum/common/components/Alert';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport DiffList from './DiffList';\n\n/**\n * The `DiffModal` component is the main component of this extension.\n * It also contains DiffList components.\n */\nexport default class DiffModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    /**\n     * Whether or not the modal is loading.\n     *\n     * @type {Boolean}\n     */\n    this.loading = false;\n\n    /**\n     * Whether the modal is showing or not.\n     *\n     * @type {Boolean}\n     */\n    this.showing = false;\n\n    /**\n     * We will use this to change modal's content when\n     * user clicks on a revision on the list.\n     *\n     * @type {Number|Null}\n     */\n    this.diffId = null;\n\n    /**\n     * This holds information about which revisions are subjects for comparison.\n     *\n     * @type {Object}\n     */\n    this.comparisonBetween = JSON.parse(this.attrs.listState.selectedItem.comparisonBetween());\n  }\n  className() {\n    return 'DiffModal';\n  }\n  title() {\n    return [\n    // we also should consider deleted users here\n    this.attrs.listState.selectedItem.actor().username() ? m(Avatar, {\n      user: this.attrs.listState.selectedItem.actor()\n    }) : '', this.attrs.listState.selectedItem.revision() != 0 ?\n    // x edited y ago\n    app.translator.trans('the-turk-diff.forum.editedInfo', {\n      username: m(\"a\", {\n        href: app.route.user(this.attrs.listState.selectedItem.actor()),\n        config: m.route\n      }, username(this.attrs.listState.selectedItem.actor())),\n      ago: humanTime(this.attrs.listState.selectedItem.createdAt())\n    }) :\n    // x created y ago\n    app.translator.trans('the-turk-diff.forum.createdInfo', {\n      username: m(\"a\", {\n        href: app.route.user(this.attrs.listState.selectedItem.actor()),\n        config: m.route\n      }, username(this.attrs.listState.selectedItem.actor())),\n      ago: humanTime(this.attrs.listState.post.createdAt())\n    })];\n  }\n  oncreate(vnode) {\n    super.oncreate(vnode);\n    this.config(vnode);\n  }\n  onupdate(vnode) {\n    this.config(vnode);\n  }\n  config(vnode) {\n    // workaround for missing 'in' class on .ModalManager\n    // after redrawing the DiffList component.\n    // because i'm done with this shit.\n    // https://github.com/flarum/core/pull/2080\n    if (this.showing && !$('.ModalManager').hasClass('in')) $('.ModalManager').addClass('in');\n\n    // we should re-Initialize this component after user\n    // clicks a different revision while modal is open\n    if (this.diffId === this.attrs.listState.selectedItem.id()) return;\n    this.showing = true;\n    this.diffId = this.attrs.listState.selectedItem.id();\n    this.comparisonBetween = JSON.parse(this.attrs.listState.selectedItem.comparisonBetween());\n    if (this.attrs.listState.selectedItem.revision() != 0 && this.comparisonBetween.new.revision != this.comparisonBetween.old.revision) {\n      // we'll use Side By Side renderer as a fallback\n      // if there is no renderer choice\n      return this.setDiffContent(app.session.user.preferences().diffRenderer ? app.session.user.preferences().diffRenderer : 'sideBySide');\n    } else {\n      return this.setDiffContent('preview');\n    }\n  }\n  view() {\n    return m(\"div\", {\n      className: 'Modal modal-dialog ' + this.className()\n    }, m(\"div\", {\n      className: \"Modal-content\"\n    }, m(\"div\", {\n      className: \"Modal-close App-backControl\"\n    }, Button.component({\n      icon: 'fas fa-times',\n      onclick: this.hide.bind(this),\n      className: 'Button Button--icon Button--link'\n    })), this.attrs.listState.post.canDeleteEditHistory() && this.attrs.listState.selectedItem.revision() != this.attrs.listState.post.revisionCount() || this.attrs.listState.post.canRollbackEditHistory() && this.$('.DeletedDiff').length != this.attrs.listState.post.revisionCount() ? m(Dropdown, {\n      className: \"diffCotrollerDropdown App-primaryControl\",\n      icon: \"fas fa-ellipsis-v\",\n      buttonClassName: \"Button\",\n      menuClassName: \"Dropdown-menu--right\",\n      label: app.translator.trans('the-turk-diff.forum.optionsButton')\n    }, this.attrs.listState.post.canRollbackEditHistory() && this.comparisonBetween.old.diffId ? Button.component({\n      icon: 'fas fa-reply',\n      onclick: () => {\n        if (confirm(app.translator.trans('the-turk-diff.forum.confirmRollback', {\n          number: this.attrs.listState.selectedItem.revision()\n        }))) {\n          this.loading = true;\n          m.redraw();\n          let rollbackTo = this.attrs.listState.selectedItem.revision() == this.attrs.listState.post.revisionCount() ? this.comparisonBetween.old.diffId : this.attrs.listState.selectedItem.id();\n          app.request({\n            url: \"\".concat(app.forum.attribute('apiUrl'), \"/diff/\").concat(rollbackTo),\n            method: 'POST'\n          }).then(() => {\n            redrawPost(this.attrs.listState.post);\n            app.modal.close();\n            if (app.cache.diffs && app.cache.diffs[this.attrs.listState.post.id()]) {\n              delete app.cache.diffs[this.attrs.listState.post.id()];\n            }\n            this.showAlert('success', 'rollback');\n          }).catch(() => {\n            this.loading = false;\n            m.redraw();\n            redrawPost(this.attrs.listState.post);\n            this.showAlert('error', 'rollback');\n          });\n        }\n      }\n    }, this.attrs.listState.selectedItem.revision() == 0 ? /* we're viewing the original content */\n    app.translator.trans('the-turk-diff.forum.rollbackToOriginalButton') : this.attrs.listState.selectedItem.revision() == this.attrs.listState.post.revisionCount() ? this.comparisonBetween.old.revision != 0 ? /* we're comparing this revision with current content. */\n    app.translator.trans('the-turk-diff.forum.revertChangesButton') : /* we're comparing this revision with original content */\n    app.translator.trans('the-turk-diff.forum.rollbackToOriginalButton') : /* we're comparing this revision with another revision */\n    app.translator.trans('the-turk-diff.forum.rollbackButton', {\n      number: this.attrs.listState.selectedItem.revision()\n    })) : '', this.attrs.listState.post.canDeleteEditHistory() && this.attrs.listState.selectedItem.revision() != this.attrs.listState.post.revisionCount() ? Button.component({\n      icon: 'far fa-trash-alt',\n      onclick: () => {\n        if (confirm(app.translator.trans('the-turk-diff.forum.confirmDelete'))) {\n          this.loading = true;\n          m.redraw();\n          this.attrs.listState.selectedItem.delete().then(() => {\n            app.modal.close();\n            if (app.cache.diffs && app.cache.diffs[this.attrs.listState.post.id()]) {\n              delete app.cache.diffs[this.attrs.listState.post.id()];\n            }\n            this.showAlert('success', 'delete');\n          }).catch(() => {\n            this.loading = false;\n            m.redraw();\n            this.showAlert('error', 'delete');\n          });\n        }\n      }\n    }, app.translator.trans('the-turk-diff.forum.deleteButton')) : '') : '', m(\"div\", {\n      className: \"Modal-header\"\n    }, m(\"h3\", {\n      className: \"App-titleControl App-titleControl--text\"\n    }, this.title())), this.content()));\n  }\n  content() {\n    const revisionCount = this.attrs.listState.post.revisionCount();\n\n    /**\n     * `type` is passed to `setDiffContent` and the tooltip.\n     */\n    const diffSwitches = [{\n      type: 'inline',\n      icon: 'fas fa-grip-lines',\n      class: 'inlineView'\n    }, {\n      type: 'sideBySide',\n      icon: 'fas fa-columns',\n      class: 'sideBySideView'\n    }, {\n      type: 'combined',\n      icon: 'far fa-square',\n      class: 'combinedView'\n    }];\n    return [m(\"div\", {\n      className: \"diff-grid\"\n    }, m(\"div\", {\n      className: \"diff-grid-item diff-grid-controls\"\n    }, m(\"div\", {\n      className: \"diffSwitcher\"\n    }, this.attrs.listState.selectedItem.revision() != 0 && this.comparisonBetween.new.revision != this.comparisonBetween.old.revision ? diffSwitches.map(switchData => m(Tooltip, {\n      showOnFocus: false,\n      text: app.translator.trans(\"the-turk-diff.forum.tooltips.\".concat(switchData.type))\n    }, m(\"div\", {\n      className: \"tooltip-wrapper\"\n    }, m(Button, {\n      icon: switchData.icon,\n      onclick: () => this.setDiffContent(switchData.type),\n      className: \"Button Button--icon Button--link \".concat(switchData.class)\n    })))) : '', m(Tooltip, {\n      showOnFocus: false,\n      text: app.translator.trans('the-turk-diff.forum.tooltips.preview')\n    }, m(\"div\", {\n      className: \"tooltip-wrapper\"\n    }, m(Button, {\n      icon: \"far fa-eye\",\n      onclick: () => this.setDiffContent('preview'),\n      className: \"Button Button--icon Button--link diffPreview\"\n    }))))), m(\"div\", {\n      className: \"diff-grid-item diff-grid-info\"\n    }, m(\"div\", {\n      className: \"revisionInfo\"\n    }, m(\"h4\", null, app.translator.trans('the-turk-diff.forum.revisions', {\n      revisionCount\n    })), m(\"p\", {\n      class: \"diffInfoContainer\"\n    }))), m(\"div\", {\n      className: \"diff-grid-item diff-grid-revisions\"\n    }, m(DiffList, {\n      state: this.attrs.listState\n    })), m(\"div\", {\n      className: \"diff-grid-item diff-grid-diff\"\n    }, m(\"div\", {\n      className: \"diffContents\"\n    }, m(\"div\", {\n      className: 'previewContainer Post-body' + (app.forum.attribute('textFormattingForDiffPreviews') === false ? ' diff-skip-formatting' : '')\n    }, this.renderHtml(this.attrs.listState.selectedItem.data.attributes.previewHtml)), m(\"div\", {\n      className: \"diffContainer\"\n    }))), this.loading ? m(LoadingIndicator, {\n      containerClassName: \"DiffModal-loading\",\n      size: \"large\"\n    }) : '')];\n  }\n\n  /**\n   * Slowly scroll to selected revision.\n   */\n  onready() {\n    const $revisions = this.$('.DiffList-content');\n    let $selectedItem = this.$('li#parentDiff' + this.attrs.listState.selectedItem.id());\n    $revisions.animate({\n      scrollTop: $selectedItem.offset().top - $revisions.offset().top + $revisions.scrollTop()\n    });\n  }\n\n  /**\n   * Show success and error messages for rollback and delete operations.\n   *\n   * @param {string} type\n   * @param {string} key\n   */\n  showAlert(type, key) {\n    const message = {\n      success: 'the-turk-diff.forum.' + key + 'SuccessMessage',\n      error: 'the-turk-diff.forum.' + key + 'ErrorMessage'\n    }[type];\n    app.alerts.show(Alert, {\n      type\n    }, app.translator.trans(message));\n  }\n\n  /**\n   * Render the diff views provided by external lib.\n   *\n   * do we need to worry about m.trust() function?\n   * well, Flarum itself doing the same way for rendering\n   * post items as seen on CommentPost.js#L52\n   * also, the diff library itself treat all inputs as plain text:\n   * https://github.com/jfcherng/php-diff/issues/9#issuecomment-526808774\n   * so no need to use additional Sanitizer lib for this operation.\n   *\n   * @param {string} content\n   */\n  renderHtml(content) {\n    return m.trust(content);\n  }\n\n  /**\n   * Insert rendered diff views into their container\n   * and disable active views' buttons.\n   * Disabling buttons is just for indicating\n   * so frontend looks good but the backend sucks.\n   *\n   * @param {string} contentType\n   */\n  setDiffContent(contentType) {\n    let diffContentHtml;\n    const $diffContainer = this.$('.diffContainer');\n    const $previewContainer = this.$('.previewContainer');\n\n    // buttons\n    const $sideBySideButton = this.$('.Button.sideBySideView');\n    const $inlineButton = this.$('.Button.inlineView');\n    const $combinedButton = this.$('.Button.combinedView');\n    const $previewButton = this.$('.Button.diffPreview');\n    if (contentType !== 'preview') {\n      if (contentType === 'sideBySide') {\n        diffContentHtml = this.renderHtml(this.attrs.listState.selectedItem.data.attributes.sideBySideHtml);\n        $sideBySideButton.prop('disabled', true);\n        // what a dynasty - LOL\n        $sideBySideButton.parent().siblings().children().prop('disabled', false);\n      } else if (contentType === 'inline') {\n        diffContentHtml = this.renderHtml(this.attrs.listState.selectedItem.data.attributes.inlineHtml);\n        $inlineButton.prop('disabled', true);\n        $inlineButton.parent().siblings().children().prop('disabled', false);\n      } else if (contentType === 'combined') {\n        diffContentHtml = this.renderHtml(this.attrs.listState.selectedItem.data.attributes.combinedHtml);\n        $combinedButton.prop('disabled', true);\n        $combinedButton.parent().siblings().children().prop('disabled', false);\n      }\n    } else {\n      $diffContainer.hide();\n      this.$('.previewContainer').show();\n      $previewButton.prop('disabled', true);\n      $previewButton.parent().siblings().children().prop('disabled', false);\n      return this.setInfoContent(true);\n    }\n    if (diffContentHtml) {\n      $diffContainer.html(diffContentHtml.children);\n      if ($previewContainer.is(':visible')) {\n        $diffContainer.show();\n        $previewContainer.hide();\n      }\n\n      // let's remember their renderer choice\n      app.session.user.savePreferences({\n        diffRenderer: contentType\n      });\n      return this.setInfoContent();\n    }\n    return;\n  }\n\n  /**\n   * Set informations about comparisons.\n   *\n   * @param {Boolean} preview\n   */\n  setInfoContent(preview) {\n    if (preview === void 0) {\n      preview = false;\n    }\n    const $infoContainer = this.$('.diffInfoContainer');\n    let infoContentHtml = !preview && this.attrs.listState.selectedItem.revision() != 0 && this.comparisonBetween.new.revision != this.comparisonBetween.old.revision ? extractText(app.translator.trans('the-turk-diff.forum.differences.sentence', {\n      old: this.comparisonBetween.old.revision == -1 ? /* we're viewing differences between current content and {new} */\n      app.translator.trans('the-turk-diff.forum.differences.currentContent') : this.comparisonBetween.old.revision == 0 ? /* we're viewing differences between original content and {new} */\n      app.translator.trans('the-turk-diff.forum.differences.originalContent') : /* we're viewing differences between revision X and {new} */\n      app.translator.trans('the-turk-diff.forum.differences.revisionWithNumber', {\n        number: this.comparisonBetween.old.revision\n      }),\n      new: this.comparisonBetween.new.revision == 0 ? /* we're viewing differences between {old} and original content */\n      app.translator.trans('the-turk-diff.forum.differences.originalContent') : this.comparisonBetween.new.revision == this.attrs.listState.post.revisionCount() ? /* we're viewing differences between {old} and current content */\n      app.translator.trans('the-turk-diff.forum.differences.currentContent') : /* we're viewing differences between {old} and revision X */\n      app.translator.trans('the-turk-diff.forum.differences.revisionWithNumber', {\n        number: this.comparisonBetween.new.revision\n      })\n    })) : extractText(app.translator.trans('the-turk-diff.forum.previewMode.sentence', {\n      content: this.comparisonBetween.new.revision == 0 ? /* we're previewing original content */\n      app.translator.trans('the-turk-diff.forum.previewMode.originalContent') : this.comparisonBetween.new.revision == this.attrs.listState.post.revisionCount() ? /* we're previewing current content */\n      app.translator.trans('the-turk-diff.forum.previewMode.currentContent') : /* we're previewing revision X */\n      app.translator.trans('the-turk-diff.forum.previewMode.revisionWithNumber', {\n        number: this.comparisonBetween.new.revision\n      })\n    }));\n    return $infoContainer.html(infoContentHtml);\n  }\n}\nflarum.reg.add('huseyinfiliz-diff', 'forum/components/DiffModal', DiffModal);","import app from 'flarum/common/app';\nimport Component from 'flarum/common/Component';\nimport DiffButton from './DiffButton';\nimport DiffModal from './DiffModal';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\n/**\n * The `DiffList` component displays a list of the post's revisions.\n * It's been using on both DiffDropdown & DiffModal components.\n * It also contains DiffButton components.\n */\nexport default class DiffList extends Component {\n  view() {\n    const state = this.attrs.state;\n    const pages = app.cache.diffs[state.post.id()] || [];\n    return m(\"div\", {\n      className: \"DiffList-container\"\n    }, m(\"div\", {\n      className: \"DiffList-content\"\n    }, m(\"ul\", null, pages.length ? pages.map(diffs => {\n      return diffs.map(item => {\n        const tooltipClass = 'diffListTooltip';\n        let diffButton = m(Tooltip, {\n          showOnFocus: false,\n          position: \"left\",\n          text: item.revision() == state.post.revisionCount() ?\n          // we're hovering on latest revision's button\n          app.translator.trans('the-turk-diff.forum.tooltips.mostRecent') : item.revision() == 0 ?\n          // we're hovering on zeroth revision's button\n          app.translator.trans('the-turk-diff.forum.tooltips.originalContent') :\n          // we're hovering on other revision's button\n          app.translator.trans('the-turk-diff.forum.tooltips.revisionWithNumber', {\n            number: item.revision()\n          })\n        }, DiffButton.component({\n          'data-container': 'body',\n          postDate: state.post.createdAt(),\n          subButton: false,\n          item,\n          onclick: () => {\n            if (!item.deletedAt()) {\n              // fix tooltips are not disappearing onclick\n              $('.' + tooltipClass).remove();\n              state.selectedItem = item;\n              app.modal.show(DiffModal, {\n                listState: state\n              });\n              if (state.forModal) {\n                // .DiffList-content container of clicked revision\n                const $listContainer = this.$('li#parentDiff' + item.id());\n\n                // disable clicked revision, enable others\n                $listContainer.find('button').prop('disabled', true);\n                $listContainer.siblings().find('button').prop('disabled', false);\n                // add 'active' class to clicked revision, remove it from others\n                $listContainer.siblings().removeClass('active');\n                $listContainer.addClass('active');\n              }\n            } else {\n              // if revision is deleted, we'll toggle the info\n              // like GitHub does.\n              this.toggleSubDiff(item.id());\n            }\n          },\n          oncreate: vnode => {\n            $(vnode.dom)\n            // this is a workaround for adding custom\n            // classes into bootstrap tooltips\n            // https://stackoverflow.com/a/29879041/12866913\n            .data('bs.tooltip').tip().addClass(item.deletedAt() ? tooltipClass + ' deletedDiffTooltip' : tooltipClass);\n          }\n        }));\n\n        // returns the template for revision list items\n        return [m(\"li\", {\n          className: 'Diff ParentDiff' + (item.deletedAt() ? ' DeletedDiff' : ''),\n          id: 'parentDiff' + item.id()\n        }, diffButton), item.deletedAt() ? m(\"li\", {\n          className: \"Diff SubDiff\",\n          id: 'subDiff' + item.id()\n        }, m(DiffButton, {\n          postDate: state.post.createdAt(),\n          subButton: true,\n          item: item\n        })) : ''];\n      });\n    }) : '', state.loading ? LoadingIndicator.component({\n      className: 'LoadingIndicator--block'\n    }) : !pages.length ? m(\"div\", {\n      className: \"DiffList-empty\"\n    }, app.translator.trans('the-turk-diff.forum.emptyText')) : '')));\n  }\n  oncreate(vnode) {\n    super.oncreate(vnode);\n    const state = this.attrs.state;\n    if (state.forModal && state.selectedItem) {\n      let $selectedItem = this.$('li#parentDiff' + state.selectedItem);\n      $selectedItem.find('button').prop('disabled', true);\n      $selectedItem.addClass('active');\n    }\n    const $revisions = this.$('.DiffList-content');\n    this.$scrollParent = $revisions.css('overflow') === 'auto' ? $revisions : $(window);\n\n    // Lazy-loading implementation for the revision list\n    // simply checks if we're bottom of the list\n    // and if there are more results to show\n    this.scrollHandler = () => {\n      const scrollTop = this.$scrollParent.scrollTop();\n      const viewportHeight = this.$scrollParent.height();\n      const contentTop = this.$scrollParent === $revisions ? 0 : $revisions.offset().top;\n      const contentHeight = $revisions[0].scrollHeight;\n      if (state.moreResults && !state.loading && scrollTop + viewportHeight >= contentTop + contentHeight) {\n        state.loadMore();\n      }\n    };\n    this.$scrollParent.on('scroll', this.scrollHandler);\n  }\n  onremove() {\n    this.$scrollParent.off('scroll', this.scrollHandler);\n  }\n\n  /**\n   * Toggle the deleted revision's information (sub-button).\n   *\n   * @param {Number} id\n   */\n  toggleSubDiff(id) {\n    const $subDiff = this.$('li.Diff#subDiff' + id);\n    const $parentDiff = this.$('li.Diff#parentDiff' + id);\n    const $icon = $parentDiff.find('.icon');\n    $subDiff.toggle();\n\n    // switch caret icon onClick\n    if ($icon.hasClass('fa-caret-down')) {\n      $icon.removeClass('fa-caret-down').addClass('fa-caret-up');\n    } else {\n      $icon.removeClass('fa-caret-up').addClass('fa-caret-down');\n    }\n  }\n}\nflarum.reg.add('huseyinfiliz-diff', 'forum/components/DiffList', DiffList);","import redrawPost from '../utils/redrawPost';\nexport default class DiffListState {\n  constructor(post, forModal, moreResults, selectedItem) {\n    this.post = post;\n    this.forModal = forModal;\n    this.moreResults = moreResults || false;\n    this.selectedItem = selectedItem;\n    this.loading = false;\n    if (!app.cache.diffs) {\n      app.cache.diffs = [];\n    }\n  }\n\n  /**\n   * Load revisions.\n   *\n   * @public\n   */\n  load() {\n    // don't do anthing if we already cached revisions for the post.\n    // lazy-loading will perform loadMore() if there are moreResults\n    if (app.cache.diffs[this.post.id()]) return this.redrawList();\n    this.loadMore();\n  }\n\n  /**\n   * Load the next page of revision results.\n   *\n   * @public\n   */\n  loadMore() {\n    this.loading = true;\n    this.redrawList();\n\n    // don't do anthing if we already cached ALL revisions for the post.\n    if (app.cache.diffs[this.post.id()] && app.cache.diffs[this.post.id()].length == this.post.revisionCount()) {\n      return;\n    }\n\n    // set URL parameters\n    const params = app.cache.diffs[this.post.id()] ? {\n      id: this.post.id(),\n      page: {\n        offset: app.cache.diffs[this.post.id()].length * 10\n      }\n    } : {\n      id: this.post.id()\n    };\n    return app.store.find('diff', params).then(this.parseResults.bind(this)).catch(() => {}).then(() => {\n      this.loading = false;\n      this.redrawList();\n    });\n  }\n\n  /**\n   * Parse results and append them to the revision list.\n   *\n   * @param {Diff[]} results\n   * @return {Diff[]}\n   */\n  parseResults(results) {\n    app.cache.diffs[this.post.id()] = app.cache.diffs[this.post.id()] || [];\n    if (results.length) app.cache.diffs[this.post.id()].push(results);\n    this.moreResults = !!results.payload.links.next;\n    return results;\n  }\n\n  /**\n   * Redraw the list based on parent component.\n   */\n  redrawList() {\n    m.redraw();\n\n    // because we don't need to redraw the post\n    // to update DiffList in DiffModal.\n    // We just need it for updating DiffDropdown.\n    if (this.forModal) return;\n    return redrawPost(this.post);\n  }\n}\nflarum.reg.add('huseyinfiliz-diff', 'forum/states/DiffListState', DiffListState);","import Dropdown from 'flarum/common/components/Dropdown';\nimport DiffList from './DiffList';\nimport Icon from 'flarum/common/components/Icon';\nimport DiffListState from '../states/DiffListState';\n\n/**\n * The `DiffDropdown` component is the entrance point for this extension.\n * It's the component that you see when you click on \"Edited\" button.\n * It also contains DiffList components.\n */\nexport default class DiffDropdown extends Dropdown {\n  static initAttrs(attrs) {\n    attrs.className = 'DiffDropdown';\n    attrs.buttonClassName = 'Button Button--link';\n    attrs.menuClassName = attrs.menuClassName;\n    attrs.label = app.translator.trans('the-turk-diff.forum.editedText');\n    attrs.icon = 'fas fa-history';\n    super.initAttrs(attrs);\n  }\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    /**\n     * The post that we're working with.\n     *\n     * @type {Post[]}\n     */\n    this.post = this.attrs.post;\n\n    /**\n     * Create a new revision list.\n     *\n     * @type {DiffListState}\n     */\n    this.listState = new DiffListState(this.post, false, null);\n  }\n  getButton() {\n    const vdom = super.getButton();\n    vdom.attrs.title = this.attrs.label;\n    vdom.attrs.onclick = this.onclick.bind(this);\n    return vdom;\n  }\n  getButtonContent() {\n    return [m(Icon, {\n      name: this.attrs.icon,\n      className: \"Button-icon\"\n    }), m(\"span\", {\n      className: \"Button-label\"\n    }, this.attrs.label)];\n  }\n  getMenu() {\n    const revisionCount = this.attrs.post.revisionCount();\n    return m(\"div\", {\n      className: 'Dropdown-menu ' + this.attrs.menuClassName\n    }, m(\"div\", {\n      className: \"DiffList-header\"\n    }, m(\"h4\", null, app.translator.trans('the-turk-diff.forum.revisionInfo', {\n      revisionCount\n    }))), this.showing ? m(DiffList, {\n      state: this.listState\n    }) : '');\n  }\n\n  /**\n   * Load revision list.\n   */\n  onclick() {\n    this.listState.load();\n  }\n}\nflarum.reg.add('huseyinfiliz-diff', 'forum/components/DiffDropdown', DiffDropdown);","import { extend } from 'flarum/common/extend';\nimport app from 'flarum/common/app';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport Page from 'flarum/common/components/Page';\nimport Post from 'flarum/common/models/Post';\nimport Model from 'flarum/common/Model';\nimport Diff from './models/Diff';\nimport DiffDropdown from './components/DiffDropdown';\napp.initializers.add('the-turk-diff', () => {\n  app.store.models.diff = Diff;\n  Post.prototype.revisionCount = Model.attribute('revisionCount');\n  Post.prototype.canViewEditHistory = Model.attribute('canViewEditHistory');\n  Post.prototype.canRollbackEditHistory = Model.attribute('canRollbackEditHistory');\n  Post.prototype.canDeleteEditHistory = Model.attribute('canDeleteEditHistory');\n  extend(CommentPost.prototype, 'headerItems', function (items) {\n    const post = this.attrs.post;\n\n    // replace \"edited\" text to \"edited\" button\n    if (post.isEdited() && !post.isHidden() && post.canViewEditHistory() && post.revisionCount() > 0) {\n      items.replace('edited', DiffDropdown.component({\n        post\n      }));\n    }\n\n    // remove diffs cache when post is editing\n    if (this.isEditing() && app.cache.diffs && app.cache.diffs[this.attrs.post.id()]) {\n      delete app.cache.diffs[this.attrs.post.id()];\n    }\n  });\n\n  // prevent dropdown from closing when user clicks on deleted diff\n  extend(Page.prototype, 'oninit', function () {\n    $('body').on('click', 'li.ParentDiff.DeletedDiff, li.SubDiff', function (e) {\n      e.stopPropagation();\n    });\n  });\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","reg","Diff","revision","createdAt","deletedAt","rollbackedAt","actor","deletedUser","rollbackedUser","inlineHtml","sideBySideHtml","combinedHtml","previewHtml","comparisonBetween","add","DiffButton","view","attrs","assign","this","item","subButton","postDate","type","m","getButtonContent","buttonText","app","translator","trans","username","ago","user","name","className","title","redrawPost","post","save","then","redraw","DiffModal","oninit","vnode","super","loading","showing","diffId","JSON","parse","listState","selectedItem","href","config","route","oncreate","onupdate","$","hasClass","addClass","id","new","old","setDiffContent","preferences","diffRenderer","icon","onclick","hide","bind","canDeleteEditHistory","revisionCount","canRollbackEditHistory","length","buttonClassName","menuClassName","label","confirm","number","rollbackTo","url","concat","attribute","method","close","diffs","showAlert","catch","delete","content","class","map","switchData","showOnFocus","text","DiffList","state","renderHtml","data","attributes","containerClassName","size","onready","$revisions","$selectedItem","animate","scrollTop","offset","top","message","success","error","show","trust","contentType","diffContentHtml","$diffContainer","$previewContainer","$sideBySideButton","$inlineButton","$combinedButton","$previewButton","parent","siblings","children","setInfoContent","html","is","savePreferences","preview","$infoContainer","infoContentHtml","pages","tooltipClass","diffButton","position","component","toggleSubDiff","remove","forModal","$listContainer","find","removeClass","dom","tip","$scrollParent","css","window","scrollHandler","viewportHeight","height","contentTop","contentHeight","scrollHeight","moreResults","loadMore","on","onremove","off","$subDiff","$icon","toggle","DiffListState","constructor","cache","load","redrawList","params","page","store","parseResults","results","push","payload","links","next","DiffDropdown","initAttrs","getButton","vdom","getMenu","models","diff","canViewEditHistory","extend","items","isEdited","isHidden","replace","isEditing","e","stopPropagation"],"ignoreList":[],"sourceRoot":""}