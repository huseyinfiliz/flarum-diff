{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@the-turk/flarum-diff/webpack/bootstrap","webpack://@the-turk/flarum-diff/webpack/runtime/compat get default export","webpack://@the-turk/flarum-diff/webpack/runtime/define property getters","webpack://@the-turk/flarum-diff/webpack/runtime/hasOwnProperty shorthand","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/app')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'admin/components/ExtensionPage')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/Select')\"","webpack://@the-turk/flarum-diff/external root \"flarum.reg.get('core', 'common/components/Switch')\"","webpack://@the-turk/flarum-diff/./src/admin/DiffSettingsPage.js","webpack://@the-turk/flarum-diff/./src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/app');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'admin/components/ExtensionPage');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Select');","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.reg.get('core', 'common/components/Switch');","import app from 'flarum/common/app';\nimport ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Select from 'flarum/common/components/Select';\nimport Switch from 'flarum/common/components/Switch';\n\n// just to make things easier\nconst settingsPrefix = 'the-turk-diff.';\nconst localePrefix = 'the-turk-diff.admin.settings.';\nexport default class DiffSettingsPage extends ExtensionPage {\n  oninit(vnode) {\n    super.oninit(vnode);\n  }\n  content() {\n    return [m('.container', [m('.DiffSettingsPage', [m('.Form-group', [m('label', Switch.component({\n      state: this.setting(settingsPrefix + 'mainPostOnly', '0')() === '1',\n      onchange: value => {\n        this.setting(settingsPrefix + 'mainPostOnly')(value ? '1' : '0');\n      }\n    }, app.translator.trans(localePrefix + 'mainPostOnly')))]), m('.Form-group', [m('label', Switch.component({\n      state: this.setting(settingsPrefix + 'separateBlock', '1')() === '1',\n      onchange: value => {\n        this.setting(settingsPrefix + 'separateBlock')(value ? '1' : '0');\n      }\n    }, app.translator.trans(localePrefix + 'separateBlock')))]), m('.Form-group', [m('label', Switch.component({\n      state: this.setting(settingsPrefix + 'textFormatting', '1')() === '1',\n      onchange: value => {\n        this.setting(settingsPrefix + 'textFormatting')(value ? '1' : '0');\n      }\n    }, app.translator.trans(localePrefix + 'textFormatting')))]), m('.Form-group', [m('label', app.translator.trans(localePrefix + 'detailLevel')), m('div', Select.component({\n      options: {\n        none: app.translator.trans(localePrefix + 'noneLevel'),\n        line: app.translator.trans(localePrefix + 'lineLevel'),\n        word: app.translator.trans(localePrefix + 'wordLevel'),\n        char: app.translator.trans(localePrefix + 'charLevel')\n      },\n      onchange: this.setting(settingsPrefix + 'detailLevel'),\n      value: this.setting(settingsPrefix + 'detailLevel')() || this.setting(settingsPrefix + 'detailLevel')('line')\n    }))]), m('.Form-group', [m('label', app.translator.trans(localePrefix + 'neighborLines')), m('.helpText', app.translator.trans(localePrefix + 'neighborLinesHelp')), m('div', {\n      className: 'helpText'\n    }, m('i', {\n      className: 'diffSettingsIcon fas fa-exclamation-circle'\n    }), m('span', app.translator.trans(localePrefix + 'onlyUnsigned'))), m('input[type=text].FormControl', {\n      bidi: this.setting(settingsPrefix + 'neighborLines', '2'),\n      placeholder: '2',\n      style: 'width:25%'\n    })]), m('.Form-group', [m('label', app.translator.trans(localePrefix + 'mergeThreshold')), m('.helpText', app.translator.trans(localePrefix + 'mergeThresholdHelp')), m('div', {\n      className: 'helpText'\n    }, m('i', {\n      className: 'diffSettingsIcon fas fa-exclamation-circle'\n    }), m('span', app.translator.trans(localePrefix + 'usePoint'))), m('input[type=text].FormControl', {\n      bidi: this.setting(settingsPrefix + 'mergeThreshold', '0.8'),\n      placeholder: '0.8',\n      style: 'width:25%'\n    })]), m('.Form-group', [m('label', app.translator.trans(localePrefix + 'dbOptimisation')), m('.helpText', app.translator.trans(localePrefix + 'archiveInfo')), m('label', Switch.component({\n      state: this.setting(settingsPrefix + 'archiveOlds', '0')() === '1',\n      onchange: value => {\n        this.setting(settingsPrefix + 'archiveOlds')(value ? '1' : '0');\n      }\n    }, app.translator.trans(localePrefix + 'archiveOlds'))), m('div', {\n      className: 'helpText'\n    }, m('span', app.translator.trans(localePrefix + 'archiveOldsInfo'))), m('div', {\n      className: 'helpText'\n    }, m('i', {\n      className: 'diffSettingsIcon fas fa-exclamation-circle'\n    }), m('span', app.translator.trans(localePrefix + 'usePoint'))), m('div', {\n      className: 'diffSettingsFlex'\n    }, m('div', m('.Form-group', [m('label', m(\"strong\", null, \"A:\")), m('div', m('input[type=text].FormControl', {\n      bidi: this.setting(settingsPrefix + 'archiveLimit', '15'),\n      placeholder: '15'\n    }))])), m('div', m('.Form-group', [m('label', m(\"strong\", null, \"m:\")), m('div', m('input[type=text].FormControl', {\n      bidi: this.setting(settingsPrefix + 'archiveSlope', '0.4'),\n      placeholder: '0.4'\n    }))])), m('div', m('.Form-group', [m('label', m(\"strong\", null, \"b:\")), m('div', m('input[type=text].FormControl', {\n      bidi: this.setting(settingsPrefix + 'archiveCoefficient', '0'),\n      placeholder: '0'\n    }))]))), m('label', Switch.component({\n      state: this.setting(settingsPrefix + 'useCrons', '0')() === '1',\n      onchange: value => {\n        this.setting(settingsPrefix + 'useCrons')(value ? '1' : '0');\n      }\n    }, app.translator.trans(localePrefix + 'useCrons'))), m('div', {\n      className: 'helpText'\n    }, m('i', {\n      className: 'diffSettingsIcon fas fa-exclamation-circle'\n    }), m('span', app.translator.trans(localePrefix + 'useCronsHelp')))]), this.submitButton()])])];\n  }\n}","import app from 'flarum/common/app';\nimport DiffSettingsPage from './DiffSettingsPage';\napp.initializers.add('the-turk-diff', app => {\n  app.registry.for('the-turk-diff').registerPage(DiffSettingsPage).registerPermission({\n    // who can view edit history?\n    icon: 'fas fa-history',\n    label: app.translator.trans('the-turk-diff.admin.permissions.viewEditHistory'),\n    permission: 'viewEditHistory',\n    allowGuest: false\n  }, 'view').registerPermission({\n    // who can delete others edit history?\n    icon: 'fas fa-times',\n    label: app.translator.trans('the-turk-diff.admin.permissions.deleteEditHistory'),\n    permission: 'deleteEditHistory',\n    allowGuest: false\n  }, 'moderate').registerPermission({\n    // who can delete their own edit history?\n    icon: 'fas fa-times',\n    label: app.translator.trans('the-turk-diff.admin.permissions.selfDeleteEditHistory'),\n    permission: 'selfDeleteEditHistory',\n    allowGuest: false\n  }, 'moderate').registerPermission({\n    // who can rollback others edit history?\n    icon: 'fas fa-history',\n    label: app.translator.trans('the-turk-diff.admin.permissions.rollbackEditHistory'),\n    permission: 'rollbackEditHistory',\n    allowGuest: false\n  }, 'moderate').registerPermission({\n    // who can rollback their own edit history?\n    icon: 'fas fa-history',\n    label: app.translator.trans('the-turk-diff.admin.permissions.selfRollbackEditHistory'),\n    permission: 'selfRollbackEditHistory',\n    allowGuest: false\n  }, 'moderate');\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","reg","settingsPrefix","localePrefix","DiffSettingsPage","oninit","vnode","super","content","m","state","this","setting","onchange","value","trans","options","none","line","word","char","className","bidi","placeholder","style","submitButton","add","app","registry","for","registerPage","registerPermission","icon","label","translator","permission","allowGuest"],"ignoreList":[],"sourceRoot":""}